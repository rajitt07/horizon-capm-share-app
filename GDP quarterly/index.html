<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GDP Quarterly â€” Interactive chart</title>
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, sans-serif;
      background: #fafafa;
      color: #1a1a1a;
    }
    .header {
      padding: 1rem 1.5rem;
      border-bottom: 1px solid #e5e5e5;
      background: #fff;
    }
    .header h1 { margin: 0; font-size: 1.25rem; font-weight: 600; }
    .header p { margin: 0.25rem 0 0; font-size: 0.875rem; color: #666; }
    .layout {
      display: flex;
      min-height: calc(100vh - 80px);
    }
    .sidebar {
      width: 220px;
      padding: 1rem;
      border-right: 1px solid #e5e5e5;
      background: #fff;
      flex-shrink: 0;
    }
    .sidebar h2 {
      margin: 0 0 0.75rem;
      font-size: 0.8125rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.03em;
      color: #666;
    }
    .series-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .series-list li {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.4rem 0;
      font-size: 0.875rem;
      cursor: pointer;
      border-radius: 4px;
      padding-left: 6px;
    }
    .series-list li:hover { background: #f0f0f0; }
    .series-list li.off { opacity: 0.45; }
    .series-list .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .chart-wrap {
      flex: 1;
      padding: 1rem;
      min-width: 0;
    }
    #chart {
      width: 100%;
      height: calc(100vh - 100px);
      min-height: 420px;
      background: #141414;
      border-radius: 8px;
      border: 1px solid #333;
    }
    .buttons {
      margin-top: 0.75rem;
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    .buttons button {
      font-size: 0.75rem;
      padding: 0.35rem 0.6rem;
      border: 1px solid #ddd;
      background: #fff;
      border-radius: 4px;
      cursor: pointer;
    }
    .buttons button:hover { background: #f5f5f5; }
  </style>
</head>
<body>
  <div class="header">
    <h1>Quarterly GDP & components (constant prices)</h1>
    <p>Toggle series in the sidebar. Hover for values; drag to zoom; double-click to reset.</p>
  </div>
  <div class="layout">
    <aside class="sidebar">
      <h2>Series</h2>
      <ul class="series-list" id="seriesList"></ul>
      <div class="buttons">
        <button type="button" id="showAll">Show all</button>
        <button type="button" id="showMain">GDP & difference only</button>
      </div>
    </aside>
    <div class="chart-wrap">
      <div id="chart"></div>
    </div>
  </div>
  <script>
    const DATA = {"labels": ["2012-13 Q1", "2012-13 Q2", "2012-13 Q3", "2012-13 Q4", "2013-14 Q1", "2013-14 Q2", "2013-14 Q3", "2013-14 Q4", "2014-15 Q1", "2014-15 Q2", "2014-15 Q3", "2014-15 Q4", "2015-16 Q1", "2015-16 Q2", "2015-16 Q3", "2015-16 Q4", "2016-17 Q1", "2016-17 Q2", "2016-17 Q3", "2016-17 Q4", "2017-18 Q1", "2017-18 Q2", "2017-18 Q3", "2017-18 Q4", "2018-19 Q1", "2018-19 Q2", "2018-19 Q3", "2018-19 Q4", "2019-20 Q1", "2019-20 Q2", "2019-20 Q3", "2019-20 Q4", "2020-21 Q1", "2020-21 Q2", "2020-21 Q3", "2020-21 Q4", "2021-22 Q1", "2021-22 Q2", "2021-22 Q3", "2021-22 Q4", "2022-23 Q1", "2022-23 Q2", "2022-23 Q3", "2022-23 Q4", "2023-24 Q1", "2023-24 Q2", "2023-24 Q3", "2023-24 Q4", "2024-25 Q1", "2024-25 Q2", "2024-25 Q3", "2024-25 Q4", "2025-26 Q1", "2025-26 Q2"], "traces": [{"name": "GDP", "key": "9. Gross Domestic Product", "y": [4.86767953475987, 7.49316884539846, 5.37639166933282, 4.2960104056866, 6.44709862786447, 7.33774874882089, 6.53498261328974, 5.34298013795791, 8.02396301870769, 8.70410916998405, 5.9227361835274, 7.11207990541914, 7.59256109522343, 8.0338020221948, 7.19741760127103, 9.08868581290587, 8.67978595170252, 9.66981259429383, 8.57550867106428, 6.28932465980832, 6.11275344837804, 5.31793955900145, 6.66867778738552, 8.93290921481205, 7.499660631472, 6.45718117585728, 6.23347804450602, 5.72094278403131, 5.09536827336726, 4.29837124863989, 3.25564306837472, 2.94491306145478, -23.1341288507945, -5.83921761942314, 1.7750822263726, 3.28979279729376, 22.6337725912398, 9.8658576849318, 5.52907497778211, 4.45284556587498, 13.4907595801117, 5.95823752624854, 4.8440511979179, 6.89695397010545, 9.65994425145569, 9.34288469600169, 9.51455474433406, 8.35464058114697, 6.51179976705046, 5.61202503491061, 6.36648556245274, 7.38453036192744, 7.81147379581878, 8.22847410397638]}, {"name": "Quarterly difference", "key": "difference", "y": [null, 2.63, -2.12, -1.08, 2.15, 0.89, -0.8, -1.19, 2.68, 0.68, -2.78, 1.19, 0.48, 0.44, -0.84, 1.89, -0.41, 0.99, -1.09, -2.29, -0.18, -0.79, 1.35, 2.26, -1.43, -1.04, -0.22, -0.51, -0.63, -0.8, -1.04, -0.31, -26.08, 17.29, 7.61, 1.51, 19.34, -12.77, -4.34, -1.08, 9.04, -7.53, -1.11, 2.05, 2.76, -0.32, 0.17, -1.16, -1.84, -0.9, 0.75, 1.02, 0.43, 0.42]}, {"name": "PFCE", "key": "1. PFCE", "y": [-0.92572388931091, 8.66375532780651, 8.88855983389685, 5.46119109331157, 7.85383721531297, 6.06094713946661, 6.95772630559581, 8.28185741377806, 7.24898262176287, 8.74390528713877, 2.1291804126082, 7.82845526427732, 7.11052316414933, 7.10119604554048, 8.56536486516443, 8.79500656639831, 6.96340408406036, 9.60441849835903, 11.210229245062, 4.93198488491571, 8.59751988082621, 4.85366631793932, 4.15514876101169, 7.48915811125416, 6.30507922466849, 8.58592134278965, 7.47132580157728, 6.08708474501593, 7.17644037150074, 6.14850615457921, 5.98161372200218, 1.63206000850642, -22.9061155703175, -7.40693262579082, 1.50818614125943, 6.67720234220233, 18.049856356401, 13.6483376040342, 11.042726933337, 6.22518893983067, 19.35187214069, 8.9820140643127, 2.4075762215653, 2.13988565059836, 7.41474392901729, 2.95368560363898, 5.69043384395845, 6.23125281448965, 8.27741134969904, 6.41083263982394, 8.14843643854489, 5.95362629573314, 7.04535873493326, 7.94992644101106]}, {"name": "GFCE", "key": "2. GFCE", "y": [12.0772115817273, 11.2801506305724, -13.9444794531716, -5.94578736295802, 18.9482974355018, -2.3304050269732, 3.03211761510358, -13.676482393887, 2.34514268551157, 10.0628154189892, 28.9556710977626, -7.20009867143149, 4.76709317105446, 9.01153238489061, 8.26509138493535, 7.78946400911543, 2.42937335507345, 2.34108910235351, 6.22304453804193, 15.8395415476114, 21.5347536932321, 7.3387516908403, 10.4258864023616, 8.70316929966538, 6.61512897421854, 8.06630234447872, 3.53005471456634, 8.54761053015239, -1.94191617969207, 5.61726553095709, 4.89364324668917, 8.04722457199486, 8.78729073391145, -26.1549914216388, -4.53765852810046, 23.5205816145061, -8.15835095988256, 4.8817646964204, -0.686541128663304, 4.96791574274721, 5.0135492689263, -1.06639991015223, 2.45722213436171, 8.96062080814592, 5.28492753911082, 20.1400185289909, 2.29544263231401, 6.58573616141364, -0.292427836826265, 4.27675367900545, 9.29119305639409, -1.8064205891295, 7.44999568524805, -2.69132140088825]}, {"name": "GFCF", "key": "3. GFCF", "y": [9.57551269343608, 5.42578632590058, 2.28370920387898, 3.0041690000418, 2.85888780386828, 1.62076487572864, 2.37082709770084, -0.399365806626866, 2.93363014668529, 4.60234195390489, 0.769205591012567, 2.15949565557931, 3.67720240073821, 3.53205937045512, 10.2336843195361, 8.63964740338803, 13.7450947370094, 8.24007174695196, 6.66682112790908, 5.59109190619911, 1.06775057627792, 6.41278341283429, 9.26549590486266, 14.2116238195595, 14.3615119749274, 12.8674121966443, 12.8492445169138, 5.57755974321831, 8.19024525570331, -0.786107922841375, -1.72816870114007, -0.813544132785429, -42.3649467160751, -2.22899415823855, 4.20869470778931, 13.2110617622287, 66.523448017304, 15.2991978773125, 3.59674170426206, 6.37021172166876, 16.001518846778, 6.43097076319396, 6.72838639884842, 5.57551960181664, 8.44045953208916, 11.7115983369348, 9.34363466297986, 6.04724100210303, 6.65012829081911, 6.70290193756801, 5.23031474984844, 9.40728489458681, 7.81927531208157, 7.33391185764169]}, {"name": "Change in Stock", "key": "4. Change in Stock", "y": [-7.51621967487905, 3.15369736610401, -2.02757134551415, -5.35686300828739, -34.4246406590909, -36.4225896484852, -34.9680362569877, -36.4969051111537, 116.273086570295, 114.559995258218, 102.826554725043, 113.034313169498, -14.8328394814154, -13.9458279030799, -10.9065432609053, -11.4841714029473, -47.9040401318488, -48.9423405168416, -48.6486934842936, -49.6350589267729, 56.5275420401654, 70.216350416745, 72.5898144324453, 73.8265383499072, 33.290004933712, 27.2411979945494, 26.6479810180295, 22.8350381751026, -57.4098062334639, -58.9491945909643, -58.9094038986607, -59.4364535246106, -83.9069165560501, -74.998023532179, -74.1355218936064, -72.6110981090182, 753.814509826063, 500.098386064051, 469.713486312407, 467.05571301023, 29.9143757060391, 17.8289180687746, 21.1074893079716, 28.4081198925876, 46.5498356328844, 59.8072665419254, 55.7707395419254, 52.0293368362557, 7.52706672119507, 2.09978081567716, 3.54257156154194, 4.78230417690045, 5.8993633042824, 7.36490378033254]}, {"name": "Valuables", "key": "5. Valuables", "y": [16.4240234389862, -1.29869958079675, -0.530725646554366, -2.61395374516822, -46.8008480396953, -41.5586860328988, -46.1776747003909, -36.3614711974042, 32.3756835235582, 19.8219306580204, 24.1739776906954, 28.2248178389132, -15.5664593267188, 7.23573628400145, 13.1143799175142, -5.37892132718865, -15.4029523132585, -23.2367769623774, -21.5543404257721, -13.9404818617798, 97.5180711273241, 37.1060562157054, 21.9697381436593, 11.3843706192193, -32.9921344086472, -1.13130717424723, 1.93261774415509, 4.13932404747558, -5.51562388240921, -12.3267716169676, -16.3668587663469, -22.0813787706586, -91.1287477412138, 21.5704455173237, 40.9173889983457, 163.934276197089, 474.763524174026, 153.733985594646, 42.8897274735975, -52.2429875758018, 62.4877788159295, -17.535395162217, -36.5539666852387, -21.581003546449, -25.4439730968007, -6.42623139965256, 54.725930544438, 63.0844578161999, -23.0929878206214, 25.8040995578918, -0.541107196376211, -29.7937877929359, -22.4908910352942, -22.6584744042134]}, {"name": "Exports", "key": "6. Export of goods & services", "y": [5.11164049914196, 28.6011581651023, -4.49552067037761, -0.0318441453560706, 3.29476303752164, -1.09974711865632, 16.1219077476021, 14.3752852719462, 13.1111824537426, -2.86941534458898, 3.50227551152169, -4.74452175903349, -6.42965036944571, -4.74155854927108, -8.87007621564423, -2.51308629895398, 3.54647089910774, 2.45707447921719, 6.875598536323, 7.02818609431174, 3.94863019056078, 4.65416981766698, 4.50683151437347, 5.10314810034466, 9.13521942048125, 12.1319292920919, 15.1786378697502, 11.2428377491106, 2.77908316607833, -1.74050432380728, -5.08982909385375, -8.77503109296677, -23.7126248034783, -3.98852685854723, -6.42719318169159, 6.37989079453461, 46.4750474931793, 25.392203845475, 28.1396977373119, 22.5491688390164, 15.7539450470649, 8.3900962386334, 8.20504015649448, 9.40266118260457, -6.98655991955273, 4.58951530990844, 2.95011082199444, 7.67210476049509, 8.29208685898002, 3.02687580774429, 10.8019880933192, 3.8517665719339, 6.32941215577275, 5.58509455318218]}, {"name": "Imports", "key": "7. Import of goods & services", "y": [5.26762465885796, 16.3557097867403, 3.09712918153625, 0.379343977317801, -3.00363295955936, -8.16476084494794, -14.0606652895584, -6.91966582932207, 0.88862770570718, -0.420868559291715, 7.60512218828895, -4.18233404798608, -5.77542327036881, -3.62908356900865, -9.74311753388967, -4.15806295747659, 0.40820062769075, -0.105277195173026, 10.6175852191274, 6.98216804776127, 21.7347869474471, 10.5697099450286, 14.0934128416658, 23.5698181258512, 5.2592807862015, 18.0967066128451, 12.1074961429048, 0.76598727135368, 9.1916846266738, -2.21320478249569, -7.08767421885674, -2.61466096404726, -40.297772324204, -16.645168674253, -3.99365689434448, 13.3045838847205, 45.1311275151381, 26.8416863285512, 19.9914263984232, 6.88257623437502, 24.0693122051109, 14.0094306821908, 2.88041096174921, -1.84942025222032, 18.0430255910027, 14.2953578029351, 11.3124407244938, 11.3598957036585, -1.55610083974733, 1.04270799186666, -2.06729025905573, -12.6718093729547, 10.8775816702823, 12.7520504906965]}, {"name": "Discrepancies", "key": "8. Discrepancies", "y": [-236.597095152053, 107.186662651073, 180.115486682145, -443.322377081517, -54.935805016261, -69.5989896249086, -103.018433000178, -118.023424517642, -818.501634171108, 3.82023391829879, -1248.48176150406, -486.131837156803, -149.06475346771, -182.919032476899, -131.004145037873, 136.819532170965, 111.955333362785, 255.747230680259, -412.477186482168, 138.993473846162, 59.0721747021799, 2.98840591469641, 144.521750132249, 85.1275858736252, -63.0314323459801, -57.4343991147697, -110.439248367284, -50.647688869998, 175.26775276738, 128.94972252033, -181.326764997257, 178.964751150427, -18.9709494897841, -25.8332661014977, 227.140998737694, -94.2709989522898, -237.942669939683, -279.540866029777, -670.361715625634, -1104.81886414134, 80.8828981567585, -18.0584031046507, -10.8758314799164, -6.77762456791548, -187.763131693111, -148.835332286044, -115.856224457298, -55.0949862961779, -75.6199263701162, -140.664290956135, -831.174963747181, 169.071982983312, 234.922732613185, -868.852356808848]}]};

    const colors = [
      "#5dade2", "#f5b041", "#52be80", "#af7ac5", "#ec7063",
      "#48c9b0", "#f8b739", "#85c1e9", "#f1948a", "#a9dfbf"
    ];

    const traceIndices = {};
    DATA.traces.forEach((t, i) => { traceIndices[t.name] = i; });

    const visibility = DATA.traces.map((_, i) => i < 2);

    const plotData = DATA.traces.map((t, i) => ({
      x: DATA.labels,
      y: t.y,
      name: t.name,
      type: "scatter",
      mode: "lines+markers",
      line: { shape: "spline", width: 2, color: colors[i % colors.length] },
      marker: { size: 6, color: colors[i % colors.length], line: { width: 0 } },
      visible: visibility[i],
      hovertemplate: "%{x}<br>" + t.name + ": %{y:.2f}<extra></extra>"
    }));

    const layout = {
      margin: { t: 24, r: 24, b: 80, l: 60 },
      xaxis: {
        title: "Quarter",
        tickangle: -45,
        tickfont: { size: 11, color: "#b0b0b0" },
        titlefont: { color: "#b0b0b0" },
        gridcolor: "#404040",
        linecolor: "#555",
        zeroline: false
      },
      yaxis: {
        title: "Value (%)",
        tickfont: { size: 11, color: "#b0b0b0" },
        titlefont: { color: "#b0b0b0" },
        gridcolor: "#404040",
        linecolor: "#555",
        zeroline: true,
        zerolinecolor: "#404040"
      },
      showlegend: false,
      hovermode: "x unified",
      plot_bgcolor: "#141414",
      paper_bgcolor: "#141414",
      font: { size: 12, color: "#b0b0b0" }
    };

    const config = { responsive: true, displayModeBar: true, displaylogo: false };

    Plotly.newPlot("chart", plotData, layout, config);

    function updateVisibility() {
      const update = { visible: plotData.map((_, i) => visibility[i]) };
      Plotly.update("chart", update, {}, [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]);
      renderList();
    }

    function renderList() {
      const ul = document.getElementById("seriesList");
      ul.innerHTML = DATA.traces.map((t, i) => {
        const on = visibility[i];
        return `<li class="${on ? "" : "off"}" data-idx="${i}" style="border-left: 3px solid ${on ? colors[i % colors.length] : "transparent"}">
          <span class="dot" style="background:${colors[i % colors.length]}"></span>
          <span>${t.name}</span>
        </li>`;
      }).join("");
      ul.querySelectorAll("li").forEach(li => {
        li.addEventListener("click", () => {
          visibility[parseInt(li.dataset.idx, 10)] = !visibility[parseInt(li.dataset.idx, 10)];
          updateVisibility();
        });
      });
    }

    document.getElementById("showAll").addEventListener("click", () => {
      visibility.fill(true);
      updateVisibility();
    });
    document.getElementById("showMain").addEventListener("click", () => {
      visibility.forEach((_, i) => { visibility[i] = i < 2; });
      updateVisibility();
    });

    renderList();
  </script>
</body>
</html>
